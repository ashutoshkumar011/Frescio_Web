{% load static %}


<div class="modal editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel">
    <div class="xyz"  role="document" >
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
            <span class="close">&times;</span>
            <h3><strong>Crop Details</strong></h3>
            </div>
            <div class="modal-body">
            </br>
            <form action="" method='POST' enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="name" value="add_new_crop">
                <div class="form-floating mb-3">
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
                <script
                    src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"
                    integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
                <link rel="stylesheet"
                    href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css"
                    integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />

                <label for="floatingInput">Crop Name</label>
                <select id="select-state" class="form-control" name="crop_name" 
                    style="font-weight: bold" required>
                    <option selected>{{some_crop.crop_name}}</option>
                    {% for opt in crop %}
                      {% if opt == some_crop.crop_name %}
                      <option select>{{opt}}</option>
                      {% else %}
                      <option>{{opt}}</option>
                      {% endif %}
                    {% endfor %}

                </select>
                </div>
                </br>
                <div class="form-floating mb-3">
                <label for="floatingInput">Crop Price per Quintals</label>
                <input type="text" class="form-control" name="price" id="floatingInput"
                    value="{{some_crop.price}}" required>

                </div>
                </br>
                <div class="form-floating mb-3">
                <label for="floatingInput">Quantity Available (in Quintals)</label>
                <input type="text" class="form-control" name="quantity" id="floatingInput"
                    value="{{some_crop.quantity}}" required>

                </div>
                </br>
                <div class="form-floating mb-3">
                  <label class="input-group-text" for="inputGroupFile01">Upload Crop Image</label>
                  <input type="file" class="form-control" value={{crop.photo}} id="inputGroupFile01" name="photo" >
                </div>
                </br>

            </div>
            <div class="modal-footer">
            <input type="hidden" value={{ some_crop.id}} name="crop_id">
            <button class="btn btn-primary" type="submit" name="submit" value="edit_crop">Save</button>
            </form>
            </div>
        </div>

    </div>

</div>
  <script>
    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal 
    btn.onclick = function () {
      console.log("xxxxxxxxxxx")
      modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
      modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    $(document).ready(function () {
      $('select').selectize({
        sortField: 'text'
      });
    });
  </script>
  